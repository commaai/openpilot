Import('env', 'arch')

transformations = env.Library('transformations', ['orientation.cc', 'coordinates.cc'])

link_flags = []
if arch == "Darwin":
  link_flags = ["-bundle", "-undefined", "dynamic_lookup"]
else:
  link_flags = ["-shared"]

libtransformations = env.Program('libtransformations_c.so', ['transformations_capi.cc'],
                                 LIBS=[transformations], LINKFLAGS=link_flags)
Export('transformations', 'libtransformations')
