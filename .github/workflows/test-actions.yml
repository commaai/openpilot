name: Test GitHub Actions

on:
  push:
    branches: [ master ]
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Simple test
      run: |
        echo "ğŸš€ GitHub Actions is working!"
        echo "âœ… Repository: ${{ github.repository }}"
        echo "ğŸ“‚ Branch: ${{ github.ref_name }}"
        echo "ğŸ’» Runner: ${{ runner.os }}"
        
    - name: Run quick test
      run: |
        echo "Running optimized test suite..."
        if [[ -f "test_cache_demo/test_simple.py" ]]; then
          echo "âœ… Test files found"
          python3 --version
          pip3 install pytest
          python3 -m pytest test_cache_demo/ -v --tb=short || true
        else
          echo "âš ï¸  Test files not found, but workflow is running!"
        fi
        
    - name: Success notification
      run: |
        echo "ğŸ‰ Workflow completed successfully!"
        echo "âš¡ This proves GitHub Actions are working on your repository!"
