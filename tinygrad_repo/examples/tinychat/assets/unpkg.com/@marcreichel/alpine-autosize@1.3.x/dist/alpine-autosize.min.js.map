{"version":3,"file":"alpine-autosize.min.js","sources":["../node_modules/autosize/dist/autosize.esm.js","../builds/cdn.js","../src/index.js"],"sourcesContent":["var e=new Map;function t(t){var o=e.get(t);o&&o.destroy()}function o(t){var o=e.get(t);o&&o.update()}var r=null;\"undefined\"==typeof window?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(t,o){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return function(t){if(t&&t.nodeName&&\"TEXTAREA\"===t.nodeName&&!e.has(t)){var o,r=null,n=window.getComputedStyle(t),i=(o=t.value,function(){a({testForHeightReduction:\"\"===o||!t.value.startsWith(o),restoreTextAlign:null}),o=t.value}),l=function(o){t.removeEventListener(\"autosize:destroy\",l),t.removeEventListener(\"autosize:update\",s),t.removeEventListener(\"input\",i),window.removeEventListener(\"resize\",s),Object.keys(o).forEach(function(e){return t.style[e]=o[e]}),e.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener(\"autosize:destroy\",l),t.addEventListener(\"autosize:update\",s),t.addEventListener(\"input\",i),window.addEventListener(\"resize\",s),t.style.overflowX=\"hidden\",t.style.wordWrap=\"break-word\",e.set(t,{destroy:l,update:s}),s()}function a(e){var o,i,l=e.restoreTextAlign,s=void 0===l?null:l,d=e.testForHeightReduction,u=void 0===d||d,c=n.overflowY;if(0!==t.scrollHeight&&(\"vertical\"===n.resize?t.style.resize=\"none\":\"both\"===n.resize&&(t.style.resize=\"horizontal\"),u&&(o=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push([e.parentNode,e.parentNode.scrollTop]),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0],o=e[1];t.style.scrollBehavior=\"auto\",t.scrollTop=o,t.style.scrollBehavior=null})}}(t),t.style.height=\"\"),i=\"content-box\"===n.boxSizing?t.scrollHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):t.scrollHeight+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),\"none\"!==n.maxHeight&&i>parseFloat(n.maxHeight)?(\"hidden\"===n.overflowY&&(t.style.overflow=\"scroll\"),i=parseFloat(n.maxHeight)):\"hidden\"!==n.overflowY&&(t.style.overflow=\"hidden\"),t.style.height=i+\"px\",s&&(t.style.textAlign=s),o&&o(),r!==i&&(t.dispatchEvent(new Event(\"autosize:resized\",{bubbles:!0})),r=i),c!==n.overflow&&!s)){var v=n.textAlign;\"hidden\"===n.overflow&&(t.style.textAlign=\"start\"===v?\"end\":\"start\"),a({restoreTextAlign:v,testForHeightReduction:!0})}}function s(){a({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e});var n=r;export default n;\n","import autosize from '../src/index.js';\n\ndocument.addEventListener('alpine:init', () => {\n    autosize(window.Alpine);\n});\n","import autosize from \"autosize\";\n\nfunction Autosize(Alpine) {\n    Alpine.directive(\"autosize\", (el, {modifiers}, {cleanup}) => {\n        autosize(el);\n        const attributes = Array.from(el.attributes);\n\n        let hasWireModel = false;\n\n        for (let {nodeName} of attributes) {\n            if (nodeName === \"wire:model\" || nodeName.startsWith(\"wire:model.\")) {\n                hasWireModel = true;\n                break;\n            }\n        }\n\n        if (!el.hasAttribute(\"wire:ignore\") && hasWireModel) {\n            el.setAttribute(\"wire:ignore\", \"\");\n        }\n\n        const update = () => {\n            autosize.update(el);\n        };\n\n        el.addEventListener(\"autosize\", update);\n\n        cleanup(() => {\n            autosize.destroy(el);\n            el.removeEventListener(\"autosize\", update);\n        });\n    });\n\n    Alpine.magic(\"autosize\", (node) => (el) => {\n        const element = el || node;\n        element.dispatchEvent(new Event(\"autosize\"));\n    });\n}\n\nexport default Autosize;\n"],"names":["e","Map","t","o","get","destroy","update","r","window","Array","prototype","forEach","call","length","nodeName","has","n","getComputedStyle","i","value","a","testForHeightReduction","startsWith","restoreTextAlign","l","removeEventListener","s","Object","keys","style","delete","bind","height","resize","textAlign","overflowY","overflowX","wordWrap","addEventListener","set","d","u","c","scrollHeight","parentNode","Element","scrollTop","push","scrollBehavior","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","maxHeight","overflow","dispatchEvent","Event","bubbles","v","document","Alpine","directive","el","modifiers","cleanup","autosize","attributes","from","hasWireModel","hasAttribute","setAttribute","magic","node"],"mappings":"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"}